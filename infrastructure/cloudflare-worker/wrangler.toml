# Cloudflare Worker configuration for Lonkero License Server
# Deploy: wrangler deploy
# Dev: wrangler dev

name = "lonkero-license"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# Custom domain: license.bountyy.fi
routes = [
  { pattern = "license.bountyy.fi/*", zone_name = "bountyy.fi" }
]

# KV Namespaces for storing license data
[[kv_namespaces]]
binding = "LICENSES"
id = "YOUR_KV_NAMESPACE_ID"  # Replace after: wrangler kv:namespace create "LICENSES"

[[kv_namespaces]]
binding = "KILLSWITCH"
id = "YOUR_KV_NAMESPACE_ID"  # Replace after: wrangler kv:namespace create "KILLSWITCH"

# Environment variables (set via wrangler secret)
# wrangler secret put ADMIN_API_KEY
# wrangler secret put WEBHOOK_SECRET

[vars]
PRODUCT_NAME = "lonkero"
DEFAULT_LICENSE_TYPE = "personal"
